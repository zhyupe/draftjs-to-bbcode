module.exports=function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,n){"use strict";function r(t){return t&&R[t]}function a(t){var e="",n="";return(0,T.forEach)(t,function(t,r){if(r)switch(t){case"text-align":e+="[align="+r+"]",n="[/align]"+n}}),{blockStyleStart:e,blockStyleEnd:n}}function u(t,e){var n=[];if(e)for(var r=0,a=0,u=t,o=e.trigger||"#",i=e.separator||" ";u.length>0&&a>=0;)if(u[0]===o?(a=0,r=0,u=u.substr(o.length)):(a=u.indexOf(i+o))>=0&&(u=u.substr(a+(i+o).length),r+=a+i.length),a>=0){var l=u.indexOf(i)>=0?u.indexOf(i):u.length,s=u.substr(0,l);s&&s.length>0&&n.push({offset:r,length:s.length+o.length,type:"HASHTAG"}),r+=o.length}return n}function o(t,e){var n=[],r=0,a=t.entityRanges.map(function(t){return{offset:t.offset,length:t.length,key:t.key,type:"ENTITY"}});return a=a.concat(u(t.text,e)),a=a.sort(function(t,e){return t.offset-e.offset}),a.forEach(function(t){t.offset>r&&n.push({start:r,end:t.offset}),n.push({start:t.offset,end:t.offset+t.length,entityKey:t.key,type:t.type}),r=t.offset+t.length}),r<t.text.length&&n.push({start:r,end:t.text.length}),n}function i(t){return!!(t.entityRanges.length>0&&(0,T.isEmptyString)(t.text)||"atomic"===t.type)}function l(t){var e=t.text,n=t.inlineStyleRanges,r={BOLD:new Array(e.length),ITALIC:new Array(e.length),UNDERLINE:new Array(e.length),STRIKETHROUGH:new Array(e.length),CODE:new Array(e.length),SUPERSCRIPT:new Array(e.length),SUBSCRIPT:new Array(e.length),COLOR:new Array(e.length),BGCOLOR:new Array(e.length),FONTSIZE:new Array(e.length),FONTFAMILY:new Array(e.length),length:e.length};return n&&n.length>0&&n.forEach(function(t){for(var e=t.offset,n=e+t.length,a=e;a<n;a+=1)0===t.style.indexOf("color-")?r.COLOR[a]=t.style.substring(6):0===t.style.indexOf("bgcolor-")?r.BGCOLOR[a]=t.style.substring(8):0===t.style.indexOf("fontsize-")?r.FONTSIZE[a]=t.style.substring(9):0===t.style.indexOf("fontfamily-")?r.FONTFAMILY[a]=t.style.substring(11):r[t.style]&&(r[t.style][a]=!0)}),r}function s(t,e){var n={};return t.COLOR[e]&&(n.COLOR=t.COLOR[e]),t.BGCOLOR[e]&&(n.BGCOLOR=t.BGCOLOR[e]),t.FONTSIZE[e]&&(n.FONTSIZE=t.FONTSIZE[e]),t.FONTFAMILY[e]&&(n.FONTFAMILY=t.FONTFAMILY[e]),t.UNDERLINE[e]&&(n.UNDERLINE=!0),t.ITALIC[e]&&(n.ITALIC=!0),t.BOLD[e]&&(n.BOLD=!0),t.STRIKETHROUGH[e]&&(n.STRIKETHROUGH=!0),t.CODE[e]&&(n.CODE=!0),t.SUBSCRIPT[e]&&(n.SUBSCRIPT=!0),t.SUPERSCRIPT[e]&&(n.SUPERSCRIPT=!0),n}function f(t,e,n){var r=!0;return n>0&&n<t.length?e.forEach(function(e){r=r&&t[e][n]===t[e][n-1]}):r=!1,r}function h(t,e){return"BOLD"===t?e.tag.add("b"):"ITALIC"===t?e.tag.add("i"):"UNDERLINE"===t?e.tag.add("u"):"STRIKETHROUGH"===t?e.tag.add("s"):"CODE"===t?e.tag.add("code"):"SUPERSCRIPT"===t?e.tag.add("sup"):"SUBSCRIPT"===t&&e.tag.add("sub"),e}function c(t){if(t&&t.length>0){return t.map(function(t){switch(t){case"[":return"&#91;";case"]":return"&#93;";default:return t}}).join("")}return""}function g(t,e){if(t&&(t.COLOR||t.BGCOLOR||t.FONTSIZE||t.FONTFAMILY)){var n="",r="";return t.COLOR&&(n+="[color="+t.COLOR+"]",r="[/color]"+r),t.BGCOLOR&&(n+="[bgcolor="+t.BGCOLOR+"]",r="[/bgcolor]"+r),t.FONTSIZE&&(n+="[size="+t.FONTSIZE+"]",r="[/size]"+r),t.FONTFAMILY&&(n+="[font="+t.FONTFAMILY+"]",r="[/font]"+r),""+n+e+r}return e}function d(t,e,n,r){var a=t[e];if("function"==typeof r){var u=r(a,n);if(u)return u}if("LINK"===a.type)return a.data.url===n?"[url]"+a.data.url+"[/url]":"[url="+a.data.url+"]"+n+"[/url]";if("IMAGE"===a.type){var o="";return(a.data.height||a.data.width)&&(o="="+(a.data.width||"auto")+","+(a.data.height||"auto")),a.data.alignment?"[float="+a.data.alignment+"][img"+o+"]"+a.data.src+"[/img][/float]":"[img"+o+"]"+a.data.src+"[/img]"}return n}function p(t,e,n,r){var a=[],u=t.text;if(u.length>0)for(var o=l(t),i=void 0,h=n;h<r;h+=1)h!==n&&f(o,e,h)?(i.text.push(u[h]),i.end=h+1):(i={styles:s(o,h),text:[u[h]],start:h,end:h+1},a.push(i));return a}function y(t){var e=t.styles,n=t.text,r={text:c(n),tag:new Set};return(0,T.forEach)(e,function(t,e){r=h(t,r,e)}),r}function O(t){function e(n){function r(t){for(var e=n;e;){if(t===e.name)return!1;e=e.parent}return!0}function a(t){t.forEach(function(t){r(t)&&(o[t].name=t,o[t].end=o[t].start+o[t].length,u.push(o[t])),delete o[t]})}var u=[],o={},i=n.start+n.length;t.forEach(function(t,e){if(!(e<n.start||e>=i)){var r=new Set(Object.keys(o));t.tag.forEach(function(t){r.delete(t),o[t]?o[t].length+=1:o[t]={start:e,length:1}}),a(r)}}),a(Object.keys(o)),u.sort(function(t,e){return t.length===e.length?e.start-t.start:t.length-e.length});for(var l=0;u.length&&l<n.length;)!function(){var t=u.pop();l+=t.length,n.child.push(t),t.parent=n,t.child=[];var r=[];u.forEach(function(e){e.start>=t.start&&e.start<t.end&&(e.start=t.end),e.end>t.start&&e.end<=t.end&&(e.end=t.start),e.length=e.end-e.start,e.length>0&&r.push(e)}),u=r,e(t)}();n.child.sort(function(t,e){return t.start-e.start})}var n={start:0,length:t.length,end:t.length,parent:null,child:[]};e(n);for(var r=0,a=function e(n,a){for(;r<a.start;)n+=t[r].text,r+=1;var u="";for(a.child.length&&(u=a.child.reduce(e,""));r<a.end;)u+=t[r].text,r+=1;return a.name?n+"["+a.name+"]"+u+"[/"+a.name+"]":n+u}("",n);r<t.length;)a+=t[r].text,r+=1;return a}function v(t,e){var n=p(t,["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"],e.start,e.end),r=n.map(function(t){return y(t)}),a=O(r);return a=g(e.styles,a)}function E(t,e,n,r){var a=[];p(t,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],n.start,n.end).forEach(function(e){a.push(v(t,e))});var u=a.join("");return"ENTITY"===n.type?void 0!==n.entityKey&&null!==n.entityKey&&(u=d(e,n.entityKey,u,r)):"HASHTAG"===n.type&&(u="[tag]"+u+"[/tag]"),u}function S(t,e,n,r){var a=[];return o(t,n).forEach(function(n,u){var o=E(t,e,n,r);a.push(o)}),a.join("")}function I(t,e,n,u,o){var l=[];if(i(t))l.push(d(e,t.entityRanges[0].key,void 0,o));else{var s=r(t.type);s&&l.push("["+s+"]");var f=a(t.data),h=f.blockStyleStart,c=f.blockStyleEnd;h&&l.push(h),l.push(S(t,e,n,o)),c&&l.push(c),s&&l.push("[/"+s+"]")}return l.push("\n"),l.join("")}Object.defineProperty(e,"__esModule",{value:!0}),e.getBlockTag=r,e.getBlockStyle=a,e.getStylesAtOffset=s,e.sameStyleAsPrevious=f,e.applyInlineStyleMarkup=h,e.addStylePropertyMarkup=g,e.getBlockInnerMarkup=S,e.getBlockMarkup=I;var T=n(2),R={unstyled:"","header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-five":"h5","header-six":"h6","unordered-list-item":"list","ordered-list-item":"list",blockquote:"quote"}},function(t,e,n){"use strict";function r(t,e,n,r){var o=[];if(t){var i=t.blocks,l=t.entityMap;if(i&&i.length>0){var s=[];if(i.forEach(function(t){if((0,u.isList)(t.type))s.push(t);else{if(s.length>0){var i=(0,u.getListMarkup)(s,l,e,r);o.push(i),s=[]}var f=(0,a.getBlockMarkup)(t,l,e,n,r);o.push(f)}}),s.length>0){var f=(0,u.getListMarkup)(s,l,e,n,r);o.push(f),s=[]}}}return o.join("")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=n(0),u=n(3)},function(t,e,n){"use strict";function r(t,e){if(t)for(var n in t)({}).hasOwnProperty.call(t,n)&&e(n,t[n])}function a(t){return void 0===t||null===t||0===t.length||0===t.trim().length}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=r,e.isEmptyString=a},function(t,e,n){"use strict";function r(t){return"unordered-list-item"===t||"ordered-list-item"===t}function a(t){return"ordered-list-item"===t?(0,o.getBlockTag)(t)+"=1":(0,o.getBlockTag)(t)}function u(t,e,n,r,i){var l=[],s=[],f=void 0;return t.forEach(function(t){var h=!1;if(f?f.type!==t.type?(l.push("[/"+(0,o.getBlockTag)(f.type)+"]\n"),l.push("["+a(t.type)+"]\n")):f.depth===t.depth?s&&s.length>0&&(l.push(u(s,e,n,r,i)),s=[]):(h=!0,s.push(t)):l.push("["+a(t.type)+"]\n"),!h){l.push("[*]");var c=(0,o.getBlockStyle)(t.data),g=c.blockStyleStart,d=c.blockStyleEnd;g&&l.push(g),l.push((0,o.getBlockInnerMarkup)(t,e,n,i)),d&&l.push(d),l.push("\n"),f=t}}),s&&s.length>0&&l.push(u(s,e,n,r,i)),l.push("[/"+(0,o.getBlockTag)(f.type)+"]\n"),l.join("")}Object.defineProperty(e,"__esModule",{value:!0}),e.isList=r,e.getListMarkup=u;var o=n(0)},function(t,e,n){t.exports=n(1)}]);